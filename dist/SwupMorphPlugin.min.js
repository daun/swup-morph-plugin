(function e(t,n){if(typeof exports==="object"&&typeof module==="object")module.exports=n();else if(typeof define==="function"&&define.amd)define([],n);else if(typeof exports==="object")exports["SwupMorphPlugin"]=n();else t["SwupMorphPlugin"]=n()})(window,function(){return function(e){var t={};function n(r){if(t[r]){return t[r].exports}var i=t[r]={i:r,l:false,exports:{}};e[r].call(i.exports,i,i.exports,n);i.l=true;return i.exports}n.m=e;n.c=t;n.d=function(e,t,r){if(!n.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:r})}};n.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};n.t=function(e,t){if(t&1)e=n(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var r=Object.create(null);n.r(r);Object.defineProperty(r,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r};n.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};n.d(t,"a",t);return t};n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};n.p="";return n(n.s=0)}([function(e,t,n){"use strict";var r=n(1);var i=a(r);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();var a=n(2);var o=l(a);var u=n(3);var f=l(u);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function s(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var v=function(e){s(t,e);function t(e){c(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.name="SwupMorphPlugin";var i={containers:[]};n.options=r({},i,e);n.contentReplacedHandler=n.morphContainers.bind(n);return n}i(t,[{key:"mount",value:function e(){this.swup.on("contentReplaced",this.contentReplacedHandler)}},{key:"unmount",value:function e(){this.swup.off("contentReplaced",this.contentReplacedHandler)}},{key:"getContainers",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document;return this.options.containers.map(function(e){var n=t.querySelector(e);return{element:n,selector:e}})}},{key:"getNewContainers",value:function e(){var t=this.getNewDocument();return this.getContainers(t)}},{key:"getNewDocument",value:function e(){var t=this.swup.cache.getCurrentPage().originalContent;var n=document.createElement("div");n.innerHTML=t;return n}},{key:"morphContainers",value:function e(){var t=this.getContainers();var n=this.getNewContainers();t.forEach(function(e,t){var r=e.element;var i=n[t].element;if(r&&i){(0,f.default)(r,i)}})}}]);return t}(o.default);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function e(){i(this,e);this.isSwupPlugin=true}r(e,[{key:"mount",value:function e(){}},{key:"unmount",value:function e(){}},{key:"_beforeMount",value:function e(){}},{key:"_afterUnmount",value:function e(){}}]);return e}();t.default=a},function(e,t,n){"use strict";n.r(t);var r=11;function i(e,t){var n=t.attributes;var i;var a;var o;var u;var f;if(t.nodeType===r||e.nodeType===r){return}for(var l=n.length-1;l>=0;l--){i=n[l];a=i.name;o=i.namespaceURI;u=i.value;if(o){a=i.localName||a;f=e.getAttributeNS(o,a);if(f!==u){if(i.prefix==="xmlns"){a=i.name}e.setAttributeNS(o,a,u)}}else{f=e.getAttribute(a);if(f!==u){e.setAttribute(a,u)}}}var c=e.attributes;for(var d=c.length-1;d>=0;d--){i=c[d];a=i.name;o=i.namespaceURI;if(o){a=i.localName||a;if(!t.hasAttributeNS(o,a)){e.removeAttributeNS(o,a)}}else{if(!t.hasAttribute(a)){e.removeAttribute(a)}}}}var a;var o="http://www.w3.org/1999/xhtml";var u=typeof document==="undefined"?undefined:document;var f=!!u&&"content"in u.createElement("template");var l=!!u&&u.createRange&&"createContextualFragment"in u.createRange();function c(e){var t=u.createElement("template");t.innerHTML=e;return t.content.childNodes[0]}function d(e){if(!a){a=u.createRange();a.selectNode(u.body)}var t=a.createContextualFragment(e);return t.childNodes[0]}function s(e){var t=u.createElement("body");t.innerHTML=e;return t.childNodes[0]}function v(e){e=e.trim();if(f){return c(e)}else if(l){return d(e)}return s(e)}function p(e,t){var n=e.nodeName;var r=t.nodeName;var i,a;if(n===r){return true}i=n.charCodeAt(0);a=r.charCodeAt(0);if(i<=90&&a>=97){return n===r.toUpperCase()}else if(a<=90&&i>=97){return r===n.toUpperCase()}else{return false}}function h(e,t){return!t||t===o?u.createElement(e):u.createElementNS(t,e)}function m(e,t){var n=e.firstChild;while(n){var r=n.nextSibling;t.appendChild(n);n=r}return t}function b(e,t,n){if(e[n]!==t[n]){e[n]=t[n];if(e[n]){e.setAttribute(n,"")}else{e.removeAttribute(n)}}}var y={OPTION:function(e,t){var n=e.parentNode;if(n){var r=n.nodeName.toUpperCase();if(r==="OPTGROUP"){n=n.parentNode;r=n&&n.nodeName.toUpperCase()}if(r==="SELECT"&&!n.hasAttribute("multiple")){if(e.hasAttribute("selected")&&!t.selected){e.setAttribute("selected","selected");e.removeAttribute("selected")}n.selectedIndex=-1}}b(e,t,"selected")},INPUT:function(e,t){b(e,t,"checked");b(e,t,"disabled");if(e.value!==t.value){e.value=t.value}if(!t.hasAttribute("value")){e.removeAttribute("value")}},TEXTAREA:function(e,t){var n=t.value;if(e.value!==n){e.value=n}var r=e.firstChild;if(r){var i=r.nodeValue;if(i==n||!n&&i==e.placeholder){return}r.nodeValue=n}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){var n=-1;var r=0;var i=e.firstChild;var a;var o;while(i){o=i.nodeName&&i.nodeName.toUpperCase();if(o==="OPTGROUP"){a=i;i=a.firstChild}else{if(o==="OPTION"){if(i.hasAttribute("selected")){n=r;break}r++}i=i.nextSibling;if(!i&&a){i=a.nextSibling;a=null}}}e.selectedIndex=n}}};var g=1;var N=11;var w=3;var C=8;function O(){}function T(e){if(e){return e.getAttribute&&e.getAttribute("id")||e.id}}function S(e){return function t(n,r,i){if(!i){i={}}if(typeof r==="string"){if(n.nodeName==="#document"||n.nodeName==="HTML"||n.nodeName==="BODY"){var a=r;r=u.createElement("html");r.innerHTML=a}else{r=v(r)}}var o=i.getNodeKey||T;var f=i.onBeforeNodeAdded||O;var l=i.onNodeAdded||O;var c=i.onBeforeElUpdated||O;var d=i.onElUpdated||O;var s=i.onBeforeNodeDiscarded||O;var b=i.onNodeDiscarded||O;var S=i.onBeforeElChildrenUpdated||O;var A=i.childrenOnly===true;var x=Object.create(null);var E=[];function P(e){E.push(e)}function _(e,t){if(e.nodeType===g){var n=e.firstChild;while(n){var r=undefined;if(t&&(r=o(n))){P(r)}else{b(n);if(n.firstChild){_(n,t)}}n=n.nextSibling}}}function j(e,t,n){if(s(e)===false){return}if(t){t.removeChild(e)}b(e);_(e,n)}function M(e){if(e.nodeType===g||e.nodeType===N){var t=e.firstChild;while(t){var n=o(t);if(n){x[n]=t}M(t);t=t.nextSibling}}}M(n);function R(e){l(e);var t=e.firstChild;while(t){var n=t.nextSibling;var r=o(t);if(r){var i=x[r];if(i&&p(t,i)){t.parentNode.replaceChild(i,t);k(i,t)}else{R(t)}}else{R(t)}t=n}}function U(e,t,n){while(t){var r=t.nextSibling;if(n=o(t)){P(n)}else{j(t,e,true)}t=r}}function k(t,n,r){var i=o(n);if(i){delete x[i]}if(!r){if(c(t,n)===false){return}e(t,n);d(t);if(S(t,n)===false){return}}if(t.nodeName!=="TEXTAREA"){V(t,n)}else{y.TEXTAREA(t,n)}}function V(e,t){var n=t.firstChild;var r=e.firstChild;var i;var a;var l;var c;var d;e:while(n){c=n.nextSibling;i=o(n);while(r){l=r.nextSibling;if(n.isSameNode&&n.isSameNode(r)){n=c;r=l;continue e}a=o(r);var s=r.nodeType;var v=undefined;if(s===n.nodeType){if(s===g){if(i){if(i!==a){if(d=x[i]){if(l===d){v=false}else{e.insertBefore(d,r);if(a){P(a)}else{j(r,e,true)}r=d}}else{v=false}}}else if(a){v=false}v=v!==false&&p(r,n);if(v){k(r,n)}}else if(s===w||s==C){v=true;if(r.nodeValue!==n.nodeValue){r.nodeValue=n.nodeValue}}}if(v){n=c;r=l;continue e}if(a){P(a)}else{j(r,e,true)}r=l}if(i&&(d=x[i])&&p(d,n)){e.appendChild(d);k(d,n)}else{var h=f(n);if(h!==false){if(h){n=h}if(n.actualize){n=n.actualize(e.ownerDocument||u)}e.appendChild(n);R(n)}}n=c;r=l}U(e,r,a);var m=y[e.nodeName];if(m){m(e,t)}}var H=n;var I=H.nodeType;var D=r.nodeType;if(!A){if(I===g){if(D===g){if(!p(n,r)){b(n);H=m(n,h(r.nodeName,r.namespaceURI))}}else{H=r}}else if(I===w||I===C){if(D===I){if(H.nodeValue!==r.nodeValue){H.nodeValue=r.nodeValue}return H}else{H=r}}}if(H===r){b(n)}else{if(r.isSameNode&&r.isSameNode(H)){return}k(H,r,A);if(E){for(var L=0,B=E.length;L<B;L++){var z=x[E[L]];if(z){j(z,z.parentNode,false)}}}}if(!A&&H!==n&&n.parentNode){if(H.actualize){H=H.actualize(n.ownerDocument||u)}n.parentNode.replaceChild(H,n)}return H}}var A=S(i);t["default"]=A}])});